webpackHotUpdate("main",{

/***/ "./src/components/container/HomeContainer.js":
/*!***************************************************!*\
  !*** ./src/components/container/HomeContainer.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! leaflet */ \"./node_modules/leaflet/dist/leaflet-src.js\");\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _App_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../App.css */ \"./src/App.css\");\n/* harmony import */ var _App_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_App_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _StreetViewContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StreetViewContainer */ \"./src/components/container/StreetViewContainer.js\");\n/* harmony import */ var _EditMapContainer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./EditMapContainer */ \"./src/components/container/EditMapContainer.js\");\n/* harmony import */ var _ValidationContainer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ValidationContainer */ \"./src/components/container/ValidationContainer.js\");\n/* harmony import */ var _NavBarContainer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./NavBarContainer */ \"./src/components/container/NavBarContainer.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\nvar sampleData = {\n  \"type\": \"FeatureCollection\",\n  \"features\": [{\n    \"type\": \"Feature\",\n    \"properties\": {},\n    \"geometry\": {\n      \"type\": \"LineString\",\n      \"coordinates\": [[-122.336445, 47.614721], [-122.335718, 47.615127]]\n    }\n  }]\n};\n\nvar MainContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MainContainer, _Component);\n\n  function MainContainer() {\n    var _this;\n\n    _classCallCheck(this, MainContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MainContainer).call(this));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\",\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(event) {\n        var lat1, long1, lat2, long2, point1, point2, q, response, body, midlat, midlong;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"here\");\n                lat1 = Number(_this.state.lat1);\n                long1 = Number(_this.state.long1);\n                lat2 = Number(_this.state.lat2);\n                long2 = Number(_this.state.long2);\n                point1 = String([lat1, long1]);\n                point2 = String([lat2, long2]);\n                q = \"point1=[\".concat(point1).concat(\"]\").concat(\"&point2=[\").concat(point2).concat(\"]\");\n                console.log('/getbbox'.concat(q));\n                _context.next = 12;\n                return fetch('/getbbox?'.concat(q));\n\n              case 12:\n                response = _context.sent;\n                _context.next = 15;\n                return response.json();\n\n              case 15:\n                body = _context.sent;\n\n                if (!(response.status !== 200)) {\n                  _context.next = 18;\n                  break;\n                }\n\n                throw Error(body.message);\n\n              case 18:\n                console.log(body);\n                midlat = (lat1 + lat2) / 2;\n                midlong = (long1 + long2) / 2;\n                console.log(_typeof(lat1));\n                console.log(midlat);\n                console.log(midlong);\n\n                _this.setState({\n                  coord: [[lat1, long1], [lat2, long2]],\n                  streetview: [midlat, midlong]\n                });\n\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    var nlayers = new leaflet__WEBPACK_IMPORTED_MODULE_1___default.a.FeatureGroup();\n    var glayers = leaflet__WEBPACK_IMPORTED_MODULE_1___default.a.geoJson(sampleData);\n    glayers.eachLayer(function (l) {\n      nlayers.addLayer(l);\n    });\n    _this.state = {\n      // [ latitude, longitude]\n      coord: [],\n      streetview: [],\n      lat1: \"\",\n      long1: \"\",\n      layers: nlayers,\n      validatedData: {},\n      validation: false\n    };\n    _this.onNextClicked = _this.onNextClicked.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    _this.changeLat1 = _this.changeLat1.bind(_assertThisInitialized(_this));\n    _this.changeLong1 = _this.changeLong1.bind(_assertThisInitialized(_this));\n    _this.changeLat2 = _this.changeLat2.bind(_assertThisInitialized(_this));\n    _this.changeLong2 = _this.changeLong2.bind(_assertThisInitialized(_this));\n    return _this;\n  } //update this.state\n\n\n  _createClass(MainContainer, [{\n    key: \"reFocus\",\n    value: function reFocus(lat, _long) {\n      var currcoord = this.state.streetview;\n      var currlayers = this.state.layers;\n      this.setState({\n        streetview: [lat, _long],\n        currlayers: currlayers\n      });\n    } //set isNextClicked to true when \"Next\" button clicked\n\n  }, {\n    key: \"onNextClicked\",\n    value: function onNextClicked() {\n      var vData = this.state.layers.toGeoJSON();\n      this.setState({\n        validatedData: vData,\n        validation: true\n      });\n      console.log(this.state.layers.toGeoJSON());\n      console.log(this.state.validatedData);\n    }\n  }, {\n    key: \"updateLayerData\",\n    value: function updateLayerData(nlayers) {\n      this.setState({\n        layers: nlayers\n      });\n    }\n  }, {\n    key: \"updateData\",\n    value: function updateData(data) {\n      this.setState({\n        validatedData: data\n      });\n      console.log(this.state.validatedData);\n    }\n  }, {\n    key: \"changeLat1\",\n    value: function changeLat1(e) {\n      this.setState({\n        lat1: e.target.value\n      });\n    }\n  }, {\n    key: \"changeLong1\",\n    value: function changeLong1(e) {\n      this.setState({\n        long1: e.target.value\n      });\n    }\n  }, {\n    key: \"changeLat2\",\n    value: function changeLat2(e) {\n      this.setState({\n        lat2: e.target.value\n      });\n    }\n  }, {\n    key: \"changeLong2\",\n    value: function changeLong2(e) {\n      this.setState({\n        long2: e.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var map = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"container\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"col\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_EditMapContainer__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n        layers: this.state.layers,\n        streetview: this.state.streetview,\n        coord: this.state.coord,\n        updateLayerData: function updateLayerData(layers) {\n          return _this2.updateLayerData(layers);\n        },\n        reFocusCallback: function reFocusCallback(lat, lng) {\n          return _this2.reFocus(lat, lng);\n        }\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"col\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StreetViewContainer__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        streetview: this.state.streetview,\n        reFocusCallback: function reFocusCallback(lat, lng) {\n          return _this2.reFocus(lat, lng);\n        }\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"row\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"col\"\n      }, this.state.validation ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ValidationContainer__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        data: this.state.validatedData,\n        validateCallback: function validateCallback(data) {\n          return _this2.updateData(data);\n        }\n      }) : null)));\n      var setCoord = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"container\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"form\", {\n        onSubmit: this.handleSubmit\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, \"Lat 1:\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"textarea\", {\n        onChange: this.changeLat1\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, \"Long 1:\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"textarea\", {\n        onChange: this.changeLong1\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, \"Lat 2:\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"textarea\", {\n        onChange: this.changeLat2\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, \"Long 2:\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"textarea\", {\n        onChange: this.changeLong2\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        type: \"submit\"\n      }, \"Submit\")));\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"main\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_NavBarContainer__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n        onNextClicked: function onNextClicked() {\n          return _this2.onNextClicked();\n        }\n      }), this.state.coord.length ? map : setCoord);\n    }\n  }]);\n\n  return MainContainer;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (MainContainer);\n\n//# sourceURL=webpack:///./src/components/container/HomeContainer.js?");

/***/ })

})